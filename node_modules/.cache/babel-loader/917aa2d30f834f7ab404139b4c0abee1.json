{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = useStateWithCallback;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n/** A hook that exposes a setState(state, callback) API similar to a component class. */\n\n\nfunction useStateWithCallback(initialState) {\n  var _useState = (0, _react.useState)(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var callbackRef = (0, _react.useRef)(null);\n  var setStateCallback = (0, _react.useCallback)(function (nextState, callback) {\n    callbackRef.current = callback || null;\n    setState(nextState);\n  }, [setState]); // if we use useEffect, some callback invocations are skipped\n\n  (0, _react.useLayoutEffect)(function () {\n    // `null` on initial render, so we only execute callback on state *updates*\n    if (callbackRef.current) {\n      callbackRef.current(state);\n      callbackRef.current = null; // reset callback after execution\n    }\n  }, [state]);\n  return [state, setStateCallback];\n}","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/drag/lib/util/useStateWithCallback.js"],"names":["exports","__esModule","default","useStateWithCallback","_react","_interopRequireWildcard","require","_getRequireWildcardCache","WeakMap","cache","obj","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","initialState","_useState","useState","state","setState","callbackRef","useRef","setStateCallback","useCallback","nextState","callback","current","useLayoutEffect"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useStateWithCallback;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/** A hook that exposes a setState(state, callback) API similar to a component class. */\nfunction useStateWithCallback(initialState) {\n  var _useState = (0, _react.useState)(initialState),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var callbackRef = (0, _react.useRef)(null);\n  var setStateCallback = (0, _react.useCallback)(function (nextState, callback) {\n    callbackRef.current = callback || null;\n    setState(nextState);\n  }, [setState]); // if we use useEffect, some callback invocations are skipped\n\n  (0, _react.useLayoutEffect)(function () {\n    // `null` on initial render, so we only execute callback on state *updates*\n    if (callbackRef.current) {\n      callbackRef.current(state);\n      callbackRef.current = null; // reset callback after execution\n    }\n  }, [state]);\n  return [state, setStateCallback];\n}"]},"metadata":{},"sourceType":"script"}