{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useContext, useMemo } from 'react';\nimport cx from 'classnames';\nimport Group from '@visx/group/lib/Group';\nimport Text from '@visx/text/lib/Text';\nimport { useText } from '@visx/text';\nimport useMeasure from 'react-use-measure';\nimport AnnotationContext from '../context/AnnotationContext';\nvar DEFAULT_PADDING = {\n  top: 12,\n  right: 12,\n  bottom: 12,\n  left: 12\n};\n\nfunction getCompletePadding(padding) {\n  if (typeof padding === 'undefined') return DEFAULT_PADDING;\n\n  if (typeof padding === 'number') {\n    return {\n      top: padding,\n      right: padding,\n      bottom: padding,\n      left: padding\n    };\n  }\n\n  return _extends({}, DEFAULT_PADDING, padding);\n}\n\nexport default function Label(_ref) {\n  var _titleBounds$height, _subtitleBounds$heigh, _titleBounds$height2;\n\n  var _ref$anchorLineStroke = _ref.anchorLineStroke,\n      anchorLineStroke = _ref$anchorLineStroke === void 0 ? '#222' : _ref$anchorLineStroke,\n      _ref$backgroundFill = _ref.backgroundFill,\n      backgroundFill = _ref$backgroundFill === void 0 ? '#eaeaea' : _ref$backgroundFill,\n      backgroundPadding = _ref.backgroundPadding,\n      backgroundProps = _ref.backgroundProps,\n      className = _ref.className,\n      _ref$fontColor = _ref.fontColor,\n      fontColor = _ref$fontColor === void 0 ? '#222' : _ref$fontColor,\n      propsHorizontalAnchor = _ref.horizontalAnchor,\n      resizeObserverPolyfill = _ref.resizeObserverPolyfill,\n      _ref$showAnchorLine = _ref.showAnchorLine,\n      showAnchorLine = _ref$showAnchorLine === void 0 ? true : _ref$showAnchorLine,\n      _ref$showBackground = _ref.showBackground,\n      showBackground = _ref$showBackground === void 0 ? true : _ref$showBackground,\n      subtitle = _ref.subtitle,\n      _ref$subtitleDy = _ref.subtitleDy,\n      subtitleDy = _ref$subtitleDy === void 0 ? 4 : _ref$subtitleDy,\n      _ref$subtitleFontSize = _ref.subtitleFontSize,\n      subtitleFontSize = _ref$subtitleFontSize === void 0 ? 12 : _ref$subtitleFontSize,\n      _ref$subtitleFontWeig = _ref.subtitleFontWeight,\n      subtitleFontWeight = _ref$subtitleFontWeig === void 0 ? 200 : _ref$subtitleFontWeig,\n      subtitleProps = _ref.subtitleProps,\n      title = _ref.title,\n      _ref$titleFontSize = _ref.titleFontSize,\n      titleFontSize = _ref$titleFontSize === void 0 ? 16 : _ref$titleFontSize,\n      _ref$titleFontWeight = _ref.titleFontWeight,\n      titleFontWeight = _ref$titleFontWeight === void 0 ? 600 : _ref$titleFontWeight,\n      titleProps = _ref.titleProps,\n      propsVerticalAnchor = _ref.verticalAnchor,\n      propWidth = _ref.width,\n      _ref$maxWidth = _ref.maxWidth,\n      maxWidth = _ref$maxWidth === void 0 ? 125 : _ref$maxWidth,\n      propsX = _ref.x,\n      propsY = _ref.y; // we must measure the rendered title + subtitle to compute container height\n\n  var _useMeasure = useMeasure({\n    polyfill: resizeObserverPolyfill\n  }),\n      titleRef = _useMeasure[0],\n      titleBounds = _useMeasure[1];\n\n  var _useMeasure2 = useMeasure({\n    polyfill: resizeObserverPolyfill\n  }),\n      subtitleRef = _useMeasure2[0],\n      subtitleBounds = _useMeasure2[1];\n\n  var padding = useMemo(function () {\n    return getCompletePadding(backgroundPadding);\n  }, [backgroundPadding]); // if props are provided, they take precedence over context\n\n  var _useContext = useContext(AnnotationContext),\n      _useContext$x = _useContext.x,\n      x = _useContext$x === void 0 ? 0 : _useContext$x,\n      _useContext$y = _useContext.y,\n      y = _useContext$y === void 0 ? 0 : _useContext$y,\n      _useContext$dx = _useContext.dx,\n      dx = _useContext$dx === void 0 ? 0 : _useContext$dx,\n      _useContext$dy = _useContext.dy,\n      dy = _useContext$dy === void 0 ? 0 : _useContext$dy;\n\n  var height = Math.floor(padding.top + padding.bottom + ((_titleBounds$height = titleBounds.height) != null ? _titleBounds$height : 0) + ((_subtitleBounds$heigh = subtitleBounds.height) != null ? _subtitleBounds$heigh : 0));\n\n  var _useText = useText(_extends({\n    children: title,\n    verticalAnchor: 'start',\n    capHeight: titleFontSize,\n    fontSize: titleFontSize,\n    fontWeight: titleFontWeight,\n    fontFamily: titleProps == null ? void 0 : titleProps.fontFamily,\n    width: maxWidth\n  }, titleProps)),\n      titleWordsByLine = _useText.wordsByLines;\n\n  var _useText2 = useText(_extends({\n    children: subtitle,\n    verticalAnchor: 'start',\n    capHeight: subtitleFontSize,\n    fontSize: subtitleFontSize,\n    fontWeight: subtitleFontWeight,\n    fontFamily: subtitleProps == null ? void 0 : subtitleProps.fontFamily,\n    width: maxWidth\n  }, subtitleProps)),\n      subtitleWordsByLine = _useText2.wordsByLines;\n\n  var titleMeasuredWidth = titleWordsByLine.reduce(function (maxTitleWidth, line) {\n    var _line$width;\n\n    return Math.max(maxTitleWidth, (_line$width = line.width) != null ? _line$width : 0);\n  }, 0);\n  var subtitleMeasuredWidth = subtitleWordsByLine.reduce(function (maxSubtitleWidth, line) {\n    var _line$width2;\n\n    return Math.max(maxSubtitleWidth, (_line$width2 = line.width) != null ? _line$width2 : 0);\n  }, 0);\n  var textMeasuredWidth = Math.floor(Math.min(maxWidth, Math.max(titleMeasuredWidth, subtitleMeasuredWidth)));\n  var measuredWidth = padding.right + padding.left + textMeasuredWidth;\n  var width = propWidth != null ? propWidth : measuredWidth;\n  var innerWidth = width - padding.left - padding.right; // offset container position based on horizontal + vertical anchor\n\n  var horizontalAnchor = propsHorizontalAnchor || (Math.abs(dx) < Math.abs(dy) ? 'middle' : dx > 0 ? 'start' : 'end');\n  var verticalAnchor = propsVerticalAnchor || (Math.abs(dx) > Math.abs(dy) ? 'middle' : dy > 0 ? 'start' : 'end');\n  var containerCoords = useMemo(function () {\n    var adjustedX = propsX == null ? x + dx : propsX;\n    var adjustedY = propsY == null ? y + dy : propsY;\n    if (horizontalAnchor === 'middle') adjustedX -= width / 2;\n    if (horizontalAnchor === 'end') adjustedX -= width;\n    if (verticalAnchor === 'middle') adjustedY -= height / 2;\n    if (verticalAnchor === 'end') adjustedY -= height;\n    return {\n      x: adjustedX,\n      y: adjustedY\n    };\n  }, [propsX, x, dx, propsY, y, dy, horizontalAnchor, verticalAnchor, width, height]);\n  var titleFontFamily = titleProps == null ? void 0 : titleProps.fontFamily;\n  var titleStyle = useMemo(function () {\n    return {\n      fontSize: titleFontSize,\n      fontWeight: titleFontWeight,\n      fontFamily: titleFontFamily\n    };\n  }, [titleFontSize, titleFontWeight, titleFontFamily]);\n  var subtitleFontFamily = subtitleProps == null ? void 0 : subtitleProps.fontFamily;\n  var subtitleStyle = useMemo(function () {\n    return {\n      fontSize: subtitleFontSize,\n      fontWeight: subtitleFontWeight,\n      fontFamily: subtitleFontFamily\n    };\n  }, [subtitleFontSize, subtitleFontWeight, subtitleFontFamily]);\n  var anchorLineOrientation = Math.abs(dx) > Math.abs(dy) ? 'vertical' : 'horizontal';\n  var backgroundOutline = showAnchorLine ? {\n    stroke: anchorLineStroke,\n    strokeWidth: 2\n  } : null;\n  return !title && !subtitle ? null : /*#__PURE__*/React.createElement(Group, {\n    top: containerCoords.y,\n    left: containerCoords.x,\n    pointerEvents: \"none\",\n    className: cx('visx-annotationlabel', className),\n    opacity: titleBounds.height === 0 && subtitleBounds.height === 0 ? 0 : 1\n  }, showBackground && /*#__PURE__*/React.createElement(\"rect\", _extends({\n    className: \"visx-annotationlabel-background\",\n    fill: backgroundFill,\n    x: 0,\n    y: 0,\n    width: width,\n    height: height\n  }, backgroundProps)), showAnchorLine && /*#__PURE__*/React.createElement(React.Fragment, null, anchorLineOrientation === 'horizontal' && verticalAnchor === 'start' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: width,\n    y1: 0,\n    y2: 0\n  })), anchorLineOrientation === 'horizontal' && verticalAnchor === 'end' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: width,\n    y1: height,\n    y2: height\n  })), anchorLineOrientation === 'vertical' && horizontalAnchor === 'start' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: height\n  })), anchorLineOrientation === 'vertical' && horizontalAnchor === 'end' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: width,\n    x2: width,\n    y1: 0,\n    y2: height\n  }))), title && /*#__PURE__*/React.createElement(Text, _extends({\n    innerTextRef: titleRef,\n    fill: fontColor,\n    verticalAnchor: \"start\",\n    x: padding.left + ((titleProps == null ? void 0 : titleProps.textAnchor) === 'middle' ? innerWidth / 2 : 0),\n    y: padding.top,\n    width: innerWidth,\n    capHeight: titleFontSize // capHeight should match fontSize, used for first line line height\n    ,\n    style: titleStyle // used for size calculation\n\n  }, titleProps), title), subtitle && /*#__PURE__*/React.createElement(Text, _extends({\n    innerTextRef: subtitleRef,\n    fill: fontColor,\n    verticalAnchor: \"start\",\n    x: padding.left + ((subtitleProps == null ? void 0 : subtitleProps.textAnchor) === 'middle' ? innerWidth / 2 : 0),\n    y: padding.top + ((_titleBounds$height2 = titleBounds.height) != null ? _titleBounds$height2 : 0),\n    dy: title ? subtitleDy : 0,\n    width: innerWidth,\n    capHeight: subtitleFontSize // capHeight should match fontSize, used for first line line height\n    ,\n    style: subtitleStyle // used for size calculation\n\n  }, subtitleProps), subtitle));\n}\nLabel.propTypes = {\n  anchorLineStroke: _pt.string,\n  backgroundFill: _pt.string,\n  backgroundPadding: _pt.oneOfType([_pt.number, _pt.shape({\n    top: _pt.number,\n    right: _pt.number,\n    bottom: _pt.number,\n    left: _pt.number\n  })]),\n  className: _pt.string,\n  fontColor: _pt.string,\n  showAnchorLine: _pt.bool,\n  showBackground: _pt.bool,\n  subtitle: _pt.string,\n  subtitleDy: _pt.number,\n  title: _pt.string,\n  width: _pt.number,\n  maxWidth: _pt.number,\n  x: _pt.number,\n  y: _pt.number\n};","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/annotation/esm/components/Label.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useContext","useMemo","cx","Group","Text","useText","useMeasure","AnnotationContext","DEFAULT_PADDING","top","right","bottom","left","getCompletePadding","padding","Label","_ref","_titleBounds$height","_subtitleBounds$heigh","_titleBounds$height2","_ref$anchorLineStroke","anchorLineStroke","_ref$backgroundFill","backgroundFill","backgroundPadding","backgroundProps","className","_ref$fontColor","fontColor","propsHorizontalAnchor","horizontalAnchor","resizeObserverPolyfill","_ref$showAnchorLine","showAnchorLine","_ref$showBackground","showBackground","subtitle","_ref$subtitleDy","subtitleDy","_ref$subtitleFontSize","subtitleFontSize","_ref$subtitleFontWeig","subtitleFontWeight","subtitleProps","title","_ref$titleFontSize","titleFontSize","_ref$titleFontWeight","titleFontWeight","titleProps","propsVerticalAnchor","verticalAnchor","propWidth","width","_ref$maxWidth","maxWidth","propsX","x","propsY","y","_useMeasure","polyfill","titleRef","titleBounds","_useMeasure2","subtitleRef","subtitleBounds","_useContext","_useContext$x","_useContext$y","_useContext$dx","dx","_useContext$dy","dy","height","Math","floor","_useText","children","capHeight","fontSize","fontWeight","fontFamily","titleWordsByLine","wordsByLines","_useText2","subtitleWordsByLine","titleMeasuredWidth","reduce","maxTitleWidth","line","_line$width","max","subtitleMeasuredWidth","maxSubtitleWidth","_line$width2","textMeasuredWidth","min","measuredWidth","innerWidth","abs","containerCoords","adjustedX","adjustedY","titleFontFamily","titleStyle","subtitleFontFamily","subtitleStyle","anchorLineOrientation","backgroundOutline","stroke","strokeWidth","createElement","pointerEvents","opacity","fill","Fragment","x1","x2","y1","y2","innerTextRef","textAnchor","style","propTypes","string","oneOfType","number","shape","bool"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useContext, useMemo } from 'react';\nimport cx from 'classnames';\nimport Group from '@visx/group/lib/Group';\nimport Text from '@visx/text/lib/Text';\nimport { useText } from '@visx/text';\nimport useMeasure from 'react-use-measure';\nimport AnnotationContext from '../context/AnnotationContext';\nvar DEFAULT_PADDING = {\n  top: 12,\n  right: 12,\n  bottom: 12,\n  left: 12\n};\n\nfunction getCompletePadding(padding) {\n  if (typeof padding === 'undefined') return DEFAULT_PADDING;\n\n  if (typeof padding === 'number') {\n    return {\n      top: padding,\n      right: padding,\n      bottom: padding,\n      left: padding\n    };\n  }\n\n  return _extends({}, DEFAULT_PADDING, padding);\n}\n\nexport default function Label(_ref) {\n  var _titleBounds$height, _subtitleBounds$heigh, _titleBounds$height2;\n\n  var _ref$anchorLineStroke = _ref.anchorLineStroke,\n      anchorLineStroke = _ref$anchorLineStroke === void 0 ? '#222' : _ref$anchorLineStroke,\n      _ref$backgroundFill = _ref.backgroundFill,\n      backgroundFill = _ref$backgroundFill === void 0 ? '#eaeaea' : _ref$backgroundFill,\n      backgroundPadding = _ref.backgroundPadding,\n      backgroundProps = _ref.backgroundProps,\n      className = _ref.className,\n      _ref$fontColor = _ref.fontColor,\n      fontColor = _ref$fontColor === void 0 ? '#222' : _ref$fontColor,\n      propsHorizontalAnchor = _ref.horizontalAnchor,\n      resizeObserverPolyfill = _ref.resizeObserverPolyfill,\n      _ref$showAnchorLine = _ref.showAnchorLine,\n      showAnchorLine = _ref$showAnchorLine === void 0 ? true : _ref$showAnchorLine,\n      _ref$showBackground = _ref.showBackground,\n      showBackground = _ref$showBackground === void 0 ? true : _ref$showBackground,\n      subtitle = _ref.subtitle,\n      _ref$subtitleDy = _ref.subtitleDy,\n      subtitleDy = _ref$subtitleDy === void 0 ? 4 : _ref$subtitleDy,\n      _ref$subtitleFontSize = _ref.subtitleFontSize,\n      subtitleFontSize = _ref$subtitleFontSize === void 0 ? 12 : _ref$subtitleFontSize,\n      _ref$subtitleFontWeig = _ref.subtitleFontWeight,\n      subtitleFontWeight = _ref$subtitleFontWeig === void 0 ? 200 : _ref$subtitleFontWeig,\n      subtitleProps = _ref.subtitleProps,\n      title = _ref.title,\n      _ref$titleFontSize = _ref.titleFontSize,\n      titleFontSize = _ref$titleFontSize === void 0 ? 16 : _ref$titleFontSize,\n      _ref$titleFontWeight = _ref.titleFontWeight,\n      titleFontWeight = _ref$titleFontWeight === void 0 ? 600 : _ref$titleFontWeight,\n      titleProps = _ref.titleProps,\n      propsVerticalAnchor = _ref.verticalAnchor,\n      propWidth = _ref.width,\n      _ref$maxWidth = _ref.maxWidth,\n      maxWidth = _ref$maxWidth === void 0 ? 125 : _ref$maxWidth,\n      propsX = _ref.x,\n      propsY = _ref.y;\n\n  // we must measure the rendered title + subtitle to compute container height\n  var _useMeasure = useMeasure({\n    polyfill: resizeObserverPolyfill\n  }),\n      titleRef = _useMeasure[0],\n      titleBounds = _useMeasure[1];\n\n  var _useMeasure2 = useMeasure({\n    polyfill: resizeObserverPolyfill\n  }),\n      subtitleRef = _useMeasure2[0],\n      subtitleBounds = _useMeasure2[1];\n\n  var padding = useMemo(function () {\n    return getCompletePadding(backgroundPadding);\n  }, [backgroundPadding]); // if props are provided, they take precedence over context\n\n  var _useContext = useContext(AnnotationContext),\n      _useContext$x = _useContext.x,\n      x = _useContext$x === void 0 ? 0 : _useContext$x,\n      _useContext$y = _useContext.y,\n      y = _useContext$y === void 0 ? 0 : _useContext$y,\n      _useContext$dx = _useContext.dx,\n      dx = _useContext$dx === void 0 ? 0 : _useContext$dx,\n      _useContext$dy = _useContext.dy,\n      dy = _useContext$dy === void 0 ? 0 : _useContext$dy;\n\n  var height = Math.floor(padding.top + padding.bottom + ((_titleBounds$height = titleBounds.height) != null ? _titleBounds$height : 0) + ((_subtitleBounds$heigh = subtitleBounds.height) != null ? _subtitleBounds$heigh : 0));\n\n  var _useText = useText(_extends({\n    children: title,\n    verticalAnchor: 'start',\n    capHeight: titleFontSize,\n    fontSize: titleFontSize,\n    fontWeight: titleFontWeight,\n    fontFamily: titleProps == null ? void 0 : titleProps.fontFamily,\n    width: maxWidth\n  }, titleProps)),\n      titleWordsByLine = _useText.wordsByLines;\n\n  var _useText2 = useText(_extends({\n    children: subtitle,\n    verticalAnchor: 'start',\n    capHeight: subtitleFontSize,\n    fontSize: subtitleFontSize,\n    fontWeight: subtitleFontWeight,\n    fontFamily: subtitleProps == null ? void 0 : subtitleProps.fontFamily,\n    width: maxWidth\n  }, subtitleProps)),\n      subtitleWordsByLine = _useText2.wordsByLines;\n\n  var titleMeasuredWidth = titleWordsByLine.reduce(function (maxTitleWidth, line) {\n    var _line$width;\n\n    return Math.max(maxTitleWidth, (_line$width = line.width) != null ? _line$width : 0);\n  }, 0);\n  var subtitleMeasuredWidth = subtitleWordsByLine.reduce(function (maxSubtitleWidth, line) {\n    var _line$width2;\n\n    return Math.max(maxSubtitleWidth, (_line$width2 = line.width) != null ? _line$width2 : 0);\n  }, 0);\n  var textMeasuredWidth = Math.floor(Math.min(maxWidth, Math.max(titleMeasuredWidth, subtitleMeasuredWidth)));\n  var measuredWidth = padding.right + padding.left + textMeasuredWidth;\n  var width = propWidth != null ? propWidth : measuredWidth;\n  var innerWidth = width - padding.left - padding.right; // offset container position based on horizontal + vertical anchor\n\n  var horizontalAnchor = propsHorizontalAnchor || (Math.abs(dx) < Math.abs(dy) ? 'middle' : dx > 0 ? 'start' : 'end');\n  var verticalAnchor = propsVerticalAnchor || (Math.abs(dx) > Math.abs(dy) ? 'middle' : dy > 0 ? 'start' : 'end');\n  var containerCoords = useMemo(function () {\n    var adjustedX = propsX == null ? x + dx : propsX;\n    var adjustedY = propsY == null ? y + dy : propsY;\n    if (horizontalAnchor === 'middle') adjustedX -= width / 2;\n    if (horizontalAnchor === 'end') adjustedX -= width;\n    if (verticalAnchor === 'middle') adjustedY -= height / 2;\n    if (verticalAnchor === 'end') adjustedY -= height;\n    return {\n      x: adjustedX,\n      y: adjustedY\n    };\n  }, [propsX, x, dx, propsY, y, dy, horizontalAnchor, verticalAnchor, width, height]);\n  var titleFontFamily = titleProps == null ? void 0 : titleProps.fontFamily;\n  var titleStyle = useMemo(function () {\n    return {\n      fontSize: titleFontSize,\n      fontWeight: titleFontWeight,\n      fontFamily: titleFontFamily\n    };\n  }, [titleFontSize, titleFontWeight, titleFontFamily]);\n  var subtitleFontFamily = subtitleProps == null ? void 0 : subtitleProps.fontFamily;\n  var subtitleStyle = useMemo(function () {\n    return {\n      fontSize: subtitleFontSize,\n      fontWeight: subtitleFontWeight,\n      fontFamily: subtitleFontFamily\n    };\n  }, [subtitleFontSize, subtitleFontWeight, subtitleFontFamily]);\n  var anchorLineOrientation = Math.abs(dx) > Math.abs(dy) ? 'vertical' : 'horizontal';\n  var backgroundOutline = showAnchorLine ? {\n    stroke: anchorLineStroke,\n    strokeWidth: 2\n  } : null;\n  return !title && !subtitle ? null : /*#__PURE__*/React.createElement(Group, {\n    top: containerCoords.y,\n    left: containerCoords.x,\n    pointerEvents: \"none\",\n    className: cx('visx-annotationlabel', className),\n    opacity: titleBounds.height === 0 && subtitleBounds.height === 0 ? 0 : 1\n  }, showBackground && /*#__PURE__*/React.createElement(\"rect\", _extends({\n    className: \"visx-annotationlabel-background\",\n    fill: backgroundFill,\n    x: 0,\n    y: 0,\n    width: width,\n    height: height\n  }, backgroundProps)), showAnchorLine && /*#__PURE__*/React.createElement(React.Fragment, null, anchorLineOrientation === 'horizontal' && verticalAnchor === 'start' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: width,\n    y1: 0,\n    y2: 0\n  })), anchorLineOrientation === 'horizontal' && verticalAnchor === 'end' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: width,\n    y1: height,\n    y2: height\n  })), anchorLineOrientation === 'vertical' && horizontalAnchor === 'start' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: height\n  })), anchorLineOrientation === 'vertical' && horizontalAnchor === 'end' && /*#__PURE__*/React.createElement(\"line\", _extends({}, backgroundOutline, {\n    x1: width,\n    x2: width,\n    y1: 0,\n    y2: height\n  }))), title && /*#__PURE__*/React.createElement(Text, _extends({\n    innerTextRef: titleRef,\n    fill: fontColor,\n    verticalAnchor: \"start\",\n    x: padding.left + ((titleProps == null ? void 0 : titleProps.textAnchor) === 'middle' ? innerWidth / 2 : 0),\n    y: padding.top,\n    width: innerWidth,\n    capHeight: titleFontSize // capHeight should match fontSize, used for first line line height\n    ,\n    style: titleStyle // used for size calculation\n\n  }, titleProps), title), subtitle && /*#__PURE__*/React.createElement(Text, _extends({\n    innerTextRef: subtitleRef,\n    fill: fontColor,\n    verticalAnchor: \"start\",\n    x: padding.left + ((subtitleProps == null ? void 0 : subtitleProps.textAnchor) === 'middle' ? innerWidth / 2 : 0),\n    y: padding.top + ((_titleBounds$height2 = titleBounds.height) != null ? _titleBounds$height2 : 0),\n    dy: title ? subtitleDy : 0,\n    width: innerWidth,\n    capHeight: subtitleFontSize // capHeight should match fontSize, used for first line line height\n    ,\n    style: subtitleStyle // used for size calculation\n\n  }, subtitleProps), subtitle));\n}\nLabel.propTypes = {\n  anchorLineStroke: _pt.string,\n  backgroundFill: _pt.string,\n  backgroundPadding: _pt.oneOfType([_pt.number, _pt.shape({\n    top: _pt.number,\n    right: _pt.number,\n    bottom: _pt.number,\n    left: _pt.number\n  })]),\n  className: _pt.string,\n  fontColor: _pt.string,\n  showAnchorLine: _pt.bool,\n  showBackground: _pt.bool,\n  subtitle: _pt.string,\n  subtitleDy: _pt.number,\n  title: _pt.string,\n  width: _pt.number,\n  maxWidth: _pt.number,\n  x: _pt.number,\n  y: _pt.number\n};"]},"metadata":{},"sourceType":"module"}