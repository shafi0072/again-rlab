{"ast":null,"code":"import _objectSpread from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Navbar from'../../Shared/Navbar';import DeveiceMeter from'../Locations/DeveiceMeter';import firebase from'firebase/app';import logo from'../../../Resorces/logo_RLAB.png';import'./DeviceDashBoard.css';import'firebase/firestore';import{BrowserRouter as Router,Switch,Route,Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(!firebase.apps.length){firebase.initializeApp({apiKey:\"AIzaSyA47b6Rx0RioZApSMcyDooUmOpQFFs9WLE\",authDomain:\"test1-68872.firebaseapp.com\",projectId:\"test1-68872\",storageBucket:\"test1-68872.appspot.com\",messagingSenderId:\"504703093399\",appId:\"1:504703093399:web:50a89636d428ac8bd2f7d2\"});}else{firebase.app();// if already initialized, use that one\n}var db=firebase.firestore();var DeviceDashBoard=function DeviceDashBoard(){var _useParams=useParams(),format=_useParams.format,id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];function arrayFunc(arr,key){var resultArray=[];for(var i=0;i<arr.length;i++){if(arr[i]._id===key){resultArray=arr[i];}}return resultArray;};useEffect(function(){if(format===\"ENER01\"){var userDb=db.collection(\"SOLARPAN01\").onSnapshot(function(querySnapshot){var getDataFirebase=[];querySnapshot.forEach(function(doc){getDataFirebase.push(_objectSpread(_objectSpread({},doc.data()),{},{key:doc.id}));});if(getDataFirebase.length>0){var functionalArray=arrayFunc(getDataFirebase,id);setStatus(functionalArray);setLoading(false);}});return userDb;}else if(format===\"RTD01\"){var _userDb=db.collection(\"RTD0000002\").onSnapshot(function(querySnapshot){var getDataFirebase=[];querySnapshot.forEach(function(doc){getDataFirebase.push(_objectSpread(_objectSpread({},doc.data()),{},{key:doc.id}));});if(getDataFirebase.length>0){var functionalArray=arrayFunc(getDataFirebase,id);setStatus(functionalArray);setLoading(false);}});return _userDb;}else if(format===\"GTY01\"){var _userDb2=db.collection(\"GTY0000001\").where().onSnapshot(function(querySnapshot){var getDataFirebase=[];querySnapshot.forEach(function(doc){getDataFirebase.push(_objectSpread(_objectSpread({},doc.data()),{},{key:doc.id}));});if(getDataFirebase.length>0){var functionalArray=arrayFunc(getDataFirebase,id);setStatus(functionalArray);setLoading(false);}});return _userDb2;}},[loading,format,id]);console.log({status:status});return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 dashboard-navbar\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9 dashboard-background text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\",style:{width:'20%'},className:\"mt-5\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-dark mt-2\",children:[\"Format: \",format]}),/*#__PURE__*/_jsx(DeveiceMeter,{data:status})]})]});};export default DeviceDashBoard;","map":{"version":3,"sources":["F:/Rlab/client/src/Components/Home/DeviceDashBoard/DeviceDashBoard.js"],"names":["React","useEffect","useState","Navbar","DeveiceMeter","firebase","logo","BrowserRouter","Router","Switch","Route","Link","useParams","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","firestore","DeviceDashBoard","format","id","status","setStatus","loading","setLoading","arrayFunc","arr","key","resultArray","i","_id","userDb","collection","onSnapshot","querySnapshot","getDataFirebase","forEach","doc","push","data","functionalArray","where","console","log","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Navbar from '../../Shared/Navbar';\r\nimport DeveiceMeter from '../Locations/DeveiceMeter';\r\nimport firebase from 'firebase/app';\r\nimport logo from '../../../Resorces/logo_RLAB.png';\r\nimport './DeviceDashBoard.css';\r\nimport 'firebase/firestore';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useParams\r\n  } from \"react-router-dom\";\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp({\r\n        apiKey: \"AIzaSyA47b6Rx0RioZApSMcyDooUmOpQFFs9WLE\",\r\n        authDomain: \"test1-68872.firebaseapp.com\",\r\n        projectId: \"test1-68872\",\r\n        storageBucket: \"test1-68872.appspot.com\",\r\n        messagingSenderId: \"504703093399\",\r\n        appId: \"1:504703093399:web:50a89636d428ac8bd2f7d2\"\r\n    });\r\n }else {\r\n    firebase.app(); // if already initialized, use that one\r\n }\r\n\r\nconst db = firebase.firestore();\r\n\r\n\r\n\r\n\r\nconst DeviceDashBoard = () => {\r\n    let { format, id } = useParams();\r\n\r\n\r\n    const [status,setStatus] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    function arrayFunc(arr,key) {\r\n        let resultArray = [];\r\n        for(let i = 0; i < arr.length; i++){\r\n            if(arr[i]._id === key){\r\n                resultArray = arr[i];\r\n            }\r\n        }\r\n        return resultArray\r\n    };\r\n    \r\n    useEffect(() => {\r\n        if(format === \"ENER01\"){\r\n            const userDb =  db.collection(\"SOLARPAN01\").onSnapshot((querySnapshot) => {\r\n                const getDataFirebase = [];\r\n                querySnapshot.forEach((doc) => {\r\n                  getDataFirebase.push({...doc.data(), key:doc.id});\r\n                });\r\n                \r\n                if(getDataFirebase.length > 0){\r\n                    const functionalArray = arrayFunc(getDataFirebase, id)\r\n                    setStatus(functionalArray)\r\n                    setLoading(false)\r\n                }\r\n            });\r\n            return userDb\r\n        }\r\n        else if(format === \"RTD01\"){\r\n            const userDb =  db.collection(\"RTD0000002\").onSnapshot((querySnapshot) => {\r\n                const getDataFirebase = [];\r\n                querySnapshot.forEach((doc) => {\r\n                  getDataFirebase.push({...doc.data(), key:doc.id});\r\n                });\r\n                \r\n                if(getDataFirebase.length > 0){\r\n                    const functionalArray = arrayFunc(getDataFirebase, id)\r\n                    setStatus(functionalArray)\r\n                    setLoading(false)\r\n                }\r\n            });\r\n            return userDb\r\n        }\r\n        else if(format === \"GTY01\"){\r\n            const userDb =  db.collection(\"GTY0000001\").where().onSnapshot((querySnapshot) => {\r\n                const getDataFirebase = [];\r\n                querySnapshot.forEach((doc) => {\r\n                  getDataFirebase.push({...doc.data(), key:doc.id});\r\n                });\r\n                \r\n                if(getDataFirebase.length > 0){\r\n                    const functionalArray = arrayFunc(getDataFirebase, id)\r\n                    setStatus(functionalArray)\r\n                    setLoading(false)\r\n                }\r\n            });\r\n            return userDb\r\n        }\r\n        \r\n        \r\n     \r\n    }, [loading, format, id]);\r\n  console.log({status});\r\n    return (\r\n        <div className='row'>\r\n            <div className=\"col-md-3 dashboard-navbar\">\r\n                <Navbar/>\r\n            </div>\r\n            <div className=\"col-md-9 dashboard-background text-center\">\r\n            <img src={logo} alt=\"\" style={{width:'20%'}} className='mt-5' />\r\n                <h1 className='text-dark mt-2'>Format: {format}</h1>\r\n                <DeveiceMeter data={status}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeviceDashBoard;"]},"metadata":{},"sourceType":"module"}