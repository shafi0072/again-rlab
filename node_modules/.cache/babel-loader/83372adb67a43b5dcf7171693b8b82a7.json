{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useContext, useCallback, useMemo } from 'react';\nimport DataContext from '../../../context/DataContext';\nimport withRegisteredData from '../../../enhancers/withRegisteredData';\nimport getScaledValueFactory from '../../../utils/getScaledValueFactory';\nimport isValidNumber from '../../../typeguards/isValidNumber';\nimport { GLYPHSERIES_EVENT_SOURCE, XYCHART_EVENT_SOURCE } from '../../../constants';\nimport useSeriesEvents from '../../../hooks/useSeriesEvents';\nexport function BaseGlyphSeries(_ref) {\n  var _ref2, _colorScale, _theme$colors;\n\n  var colorAccessor = _ref.colorAccessor,\n      data = _ref.data,\n      dataKey = _ref.dataKey,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      onPointerMove = _ref.onPointerMove,\n      onPointerOut = _ref.onPointerOut,\n      onPointerUp = _ref.onPointerUp,\n      _ref$enableEvents = _ref.enableEvents,\n      enableEvents = _ref$enableEvents === void 0 ? true : _ref$enableEvents,\n      renderGlyphs = _ref.renderGlyphs,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 8 : _ref$size,\n      xAccessor = _ref.xAccessor,\n      xScale = _ref.xScale,\n      yAccessor = _ref.yAccessor,\n      yScale = _ref.yScale;\n\n  var _useContext = useContext(DataContext),\n      colorScale = _useContext.colorScale,\n      theme = _useContext.theme,\n      horizontal = _useContext.horizontal;\n\n  var getScaledX = useCallback(getScaledValueFactory(xScale, xAccessor), [xScale, xAccessor]);\n  var getScaledY = useCallback(getScaledValueFactory(yScale, yAccessor), [yScale, yAccessor]);\n  var color = (_ref2 = (_colorScale = colorScale == null ? void 0 : colorScale(dataKey)) != null ? _colorScale : theme == null ? void 0 : (_theme$colors = theme.colors) == null ? void 0 : _theme$colors[0]) != null ? _ref2 : '#222';\n  var ownEventSourceKey = GLYPHSERIES_EVENT_SOURCE + \"-\" + dataKey;\n  var eventEmitters = useSeriesEvents({\n    dataKey: dataKey,\n    enableEvents: enableEvents,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onPointerMove: onPointerMove,\n    onPointerOut: onPointerOut,\n    onPointerUp: onPointerUp,\n    source: ownEventSourceKey,\n    allowedSources: [XYCHART_EVENT_SOURCE, ownEventSourceKey]\n  });\n  var glyphs = useMemo(function () {\n    return data.map(function (datum, i) {\n      var _colorAccessor;\n\n      var x = getScaledX(datum);\n      if (!isValidNumber(x)) return null;\n      var y = getScaledY(datum);\n      if (!isValidNumber(y)) return null;\n      return {\n        key: \"\" + i,\n        x: x,\n        y: y,\n        color: (_colorAccessor = colorAccessor == null ? void 0 : colorAccessor(datum, i)) != null ? _colorAccessor : color,\n        size: typeof size === 'function' ? size(datum) : size,\n        datum: datum\n      };\n    }).filter(function (point) {\n      return point;\n    });\n  }, [color, colorAccessor, data, getScaledX, getScaledY, size]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    React.createElement(React.Fragment, null, renderGlyphs(_extends({\n      glyphs: glyphs,\n      xScale: xScale,\n      yScale: yScale,\n      horizontal: horizontal\n    }, eventEmitters)))\n  );\n}\nBaseGlyphSeries.propTypes = {\n  colorAccessor: _pt.func,\n  size: _pt.oneOfType([_pt.number, _pt.func]),\n  renderGlyphs: _pt.func.isRequired\n};\nexport default withRegisteredData(BaseGlyphSeries);","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/xychart/esm/components/series/private/BaseGlyphSeries.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useContext","useCallback","useMemo","DataContext","withRegisteredData","getScaledValueFactory","isValidNumber","GLYPHSERIES_EVENT_SOURCE","XYCHART_EVENT_SOURCE","useSeriesEvents","BaseGlyphSeries","_ref","_ref2","_colorScale","_theme$colors","colorAccessor","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","_ref$enableEvents","enableEvents","renderGlyphs","_ref$size","size","xAccessor","xScale","yAccessor","yScale","_useContext","colorScale","theme","horizontal","getScaledX","getScaledY","color","colors","ownEventSourceKey","eventEmitters","allowedSources","glyphs","map","datum","_colorAccessor","x","y","filter","point","createElement","Fragment","propTypes","func","oneOfType","number","isRequired"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useContext, useCallback, useMemo } from 'react';\nimport DataContext from '../../../context/DataContext';\nimport withRegisteredData from '../../../enhancers/withRegisteredData';\nimport getScaledValueFactory from '../../../utils/getScaledValueFactory';\nimport isValidNumber from '../../../typeguards/isValidNumber';\nimport { GLYPHSERIES_EVENT_SOURCE, XYCHART_EVENT_SOURCE } from '../../../constants';\nimport useSeriesEvents from '../../../hooks/useSeriesEvents';\nexport function BaseGlyphSeries(_ref) {\n  var _ref2, _colorScale, _theme$colors;\n\n  var colorAccessor = _ref.colorAccessor,\n      data = _ref.data,\n      dataKey = _ref.dataKey,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      onPointerMove = _ref.onPointerMove,\n      onPointerOut = _ref.onPointerOut,\n      onPointerUp = _ref.onPointerUp,\n      _ref$enableEvents = _ref.enableEvents,\n      enableEvents = _ref$enableEvents === void 0 ? true : _ref$enableEvents,\n      renderGlyphs = _ref.renderGlyphs,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 8 : _ref$size,\n      xAccessor = _ref.xAccessor,\n      xScale = _ref.xScale,\n      yAccessor = _ref.yAccessor,\n      yScale = _ref.yScale;\n\n  var _useContext = useContext(DataContext),\n      colorScale = _useContext.colorScale,\n      theme = _useContext.theme,\n      horizontal = _useContext.horizontal;\n\n  var getScaledX = useCallback(getScaledValueFactory(xScale, xAccessor), [xScale, xAccessor]);\n  var getScaledY = useCallback(getScaledValueFactory(yScale, yAccessor), [yScale, yAccessor]);\n  var color = (_ref2 = (_colorScale = colorScale == null ? void 0 : colorScale(dataKey)) != null ? _colorScale : theme == null ? void 0 : (_theme$colors = theme.colors) == null ? void 0 : _theme$colors[0]) != null ? _ref2 : '#222';\n  var ownEventSourceKey = GLYPHSERIES_EVENT_SOURCE + \"-\" + dataKey;\n  var eventEmitters = useSeriesEvents({\n    dataKey: dataKey,\n    enableEvents: enableEvents,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onPointerMove: onPointerMove,\n    onPointerOut: onPointerOut,\n    onPointerUp: onPointerUp,\n    source: ownEventSourceKey,\n    allowedSources: [XYCHART_EVENT_SOURCE, ownEventSourceKey]\n  });\n  var glyphs = useMemo(function () {\n    return data.map(function (datum, i) {\n      var _colorAccessor;\n\n      var x = getScaledX(datum);\n      if (!isValidNumber(x)) return null;\n      var y = getScaledY(datum);\n      if (!isValidNumber(y)) return null;\n      return {\n        key: \"\" + i,\n        x: x,\n        y: y,\n        color: (_colorAccessor = colorAccessor == null ? void 0 : colorAccessor(datum, i)) != null ? _colorAccessor : color,\n        size: typeof size === 'function' ? size(datum) : size,\n        datum: datum\n      };\n    }).filter(function (point) {\n      return point;\n    });\n  }, [color, colorAccessor, data, getScaledX, getScaledY, size]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    React.createElement(React.Fragment, null, renderGlyphs(_extends({\n      glyphs: glyphs,\n      xScale: xScale,\n      yScale: yScale,\n      horizontal: horizontal\n    }, eventEmitters)))\n  );\n}\nBaseGlyphSeries.propTypes = {\n  colorAccessor: _pt.func,\n  size: _pt.oneOfType([_pt.number, _pt.func]),\n  renderGlyphs: _pt.func.isRequired\n};\nexport default withRegisteredData(BaseGlyphSeries);"]},"metadata":{},"sourceType":"module"}