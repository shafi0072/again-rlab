{"ast":null,"code":"import _pt from \"prop-types\";\nimport React, { useContext, useMemo } from 'react';\nimport createOrdinalScale from '@visx/scale/lib/scales/ordinal';\nimport ThemeContext from '../context/ThemeContext';\nimport DataContext from '../context/DataContext';\nimport useDataRegistry from '../hooks/useDataRegistry';\nimport useDimensions from '../hooks/useDimensions';\nimport useScales from '../hooks/useScales';\nimport isDiscreteScale from '../utils/isDiscreteScale';\n/** Props that can be passed to initialize/update the provider config. */\n\nexport default function DataProvider(_ref) {\n  var initialDimensions = _ref.initialDimensions,\n      propsTheme = _ref.theme,\n      xScaleConfig = _ref.xScale,\n      yScaleConfig = _ref.yScale,\n      children = _ref.children,\n      _ref$horizontal = _ref.horizontal,\n      initialHorizontal = _ref$horizontal === void 0 ? 'auto' : _ref$horizontal; // `DataProvider` provides a theme so that `ThemeProvider` is not strictly needed.\n  // `props.theme` takes precedent over `context.theme`, which has a default even if\n  // a ThemeProvider is not present.\n\n  var contextTheme = useContext(ThemeContext);\n  var theme = propsTheme || contextTheme;\n\n  var _useDimensions = useDimensions(initialDimensions),\n      _useDimensions$ = _useDimensions[0],\n      width = _useDimensions$.width,\n      height = _useDimensions$.height,\n      margin = _useDimensions$.margin,\n      setDimensions = _useDimensions[1];\n\n  var innerWidth = Math.max(0, width - margin.left - margin.right);\n  var innerHeight = Math.max(0, height - margin.top - margin.bottom);\n  var dataRegistry = useDataRegistry();\n\n  var _useScales = useScales({\n    dataRegistry: dataRegistry,\n    xScaleConfig: xScaleConfig,\n    yScaleConfig: yScaleConfig,\n    xRange: [margin.left, Math.max(0, width - margin.right)],\n    yRange: [Math.max(0, height - margin.bottom), margin.top]\n  }),\n      xScale = _useScales.xScale,\n      yScale = _useScales.yScale;\n\n  var registryKeys = dataRegistry.keys();\n  var colorScale = useMemo(function () {\n    return createOrdinalScale({\n      domain: registryKeys,\n      range: theme.colors\n    });\n  }, [registryKeys, theme.colors]);\n  var horizontal = initialHorizontal === 'auto' ? isDiscreteScale(yScaleConfig) || yScaleConfig.type === 'time' || yScaleConfig.type === 'utc' : initialHorizontal;\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    // everything returned here should be memoized between renders\n    // to avoid child re-renders\n    value: {\n      dataRegistry: dataRegistry,\n      registerData: dataRegistry.registerData,\n      unregisterData: dataRegistry.unregisterData,\n      xScale: xScale,\n      yScale: yScale,\n      colorScale: colorScale,\n      theme: theme,\n      width: width,\n      height: height,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      setDimensions: setDimensions,\n      horizontal: horizontal\n    }\n  }, children);\n}\nDataProvider.propTypes = {\n  children: _pt.node.isRequired,\n  horizontal: _pt.oneOfType([_pt.bool, _pt.oneOf(['auto'])])\n};","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/xychart/esm/providers/DataProvider.js"],"names":["_pt","React","useContext","useMemo","createOrdinalScale","ThemeContext","DataContext","useDataRegistry","useDimensions","useScales","isDiscreteScale","DataProvider","_ref","initialDimensions","propsTheme","theme","xScaleConfig","xScale","yScaleConfig","yScale","children","_ref$horizontal","horizontal","initialHorizontal","contextTheme","_useDimensions","_useDimensions$","width","height","margin","setDimensions","innerWidth","Math","max","left","right","innerHeight","top","bottom","dataRegistry","_useScales","xRange","yRange","registryKeys","keys","colorScale","domain","range","colors","type","createElement","Provider","value","registerData","unregisterData","propTypes","node","isRequired","oneOfType","bool","oneOf"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\nimport React, { useContext, useMemo } from 'react';\nimport createOrdinalScale from '@visx/scale/lib/scales/ordinal';\nimport ThemeContext from '../context/ThemeContext';\nimport DataContext from '../context/DataContext';\nimport useDataRegistry from '../hooks/useDataRegistry';\nimport useDimensions from '../hooks/useDimensions';\nimport useScales from '../hooks/useScales';\nimport isDiscreteScale from '../utils/isDiscreteScale';\n/** Props that can be passed to initialize/update the provider config. */\n\nexport default function DataProvider(_ref) {\n  var initialDimensions = _ref.initialDimensions,\n      propsTheme = _ref.theme,\n      xScaleConfig = _ref.xScale,\n      yScaleConfig = _ref.yScale,\n      children = _ref.children,\n      _ref$horizontal = _ref.horizontal,\n      initialHorizontal = _ref$horizontal === void 0 ? 'auto' : _ref$horizontal;\n  // `DataProvider` provides a theme so that `ThemeProvider` is not strictly needed.\n  // `props.theme` takes precedent over `context.theme`, which has a default even if\n  // a ThemeProvider is not present.\n  var contextTheme = useContext(ThemeContext);\n  var theme = propsTheme || contextTheme;\n\n  var _useDimensions = useDimensions(initialDimensions),\n      _useDimensions$ = _useDimensions[0],\n      width = _useDimensions$.width,\n      height = _useDimensions$.height,\n      margin = _useDimensions$.margin,\n      setDimensions = _useDimensions[1];\n\n  var innerWidth = Math.max(0, width - margin.left - margin.right);\n  var innerHeight = Math.max(0, height - margin.top - margin.bottom);\n  var dataRegistry = useDataRegistry();\n\n  var _useScales = useScales({\n    dataRegistry: dataRegistry,\n    xScaleConfig: xScaleConfig,\n    yScaleConfig: yScaleConfig,\n    xRange: [margin.left, Math.max(0, width - margin.right)],\n    yRange: [Math.max(0, height - margin.bottom), margin.top]\n  }),\n      xScale = _useScales.xScale,\n      yScale = _useScales.yScale;\n\n  var registryKeys = dataRegistry.keys();\n  var colorScale = useMemo(function () {\n    return createOrdinalScale({\n      domain: registryKeys,\n      range: theme.colors\n    });\n  }, [registryKeys, theme.colors]);\n  var horizontal = initialHorizontal === 'auto' ? isDiscreteScale(yScaleConfig) || yScaleConfig.type === 'time' || yScaleConfig.type === 'utc' : initialHorizontal;\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    // everything returned here should be memoized between renders\n    // to avoid child re-renders\n    value: {\n      dataRegistry: dataRegistry,\n      registerData: dataRegistry.registerData,\n      unregisterData: dataRegistry.unregisterData,\n      xScale: xScale,\n      yScale: yScale,\n      colorScale: colorScale,\n      theme: theme,\n      width: width,\n      height: height,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      setDimensions: setDimensions,\n      horizontal: horizontal\n    }\n  }, children);\n}\nDataProvider.propTypes = {\n  children: _pt.node.isRequired,\n  horizontal: _pt.oneOfType([_pt.bool, _pt.oneOf(['auto'])])\n};"]},"metadata":{},"sourceType":"module"}