{"ast":null,"code":"import _objectSpread from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import Navbar from'../../Shared/Navbar';import'./UserHome.css';import User from'../User/User';import logo from'../../../Resorces/logo_RLAB.png';import{userContext}from'../../../App';import Rechart from'./Rechart';import Devices from'../Devices/Devices';import Location from'../Locations/Locations';import firebase from'firebase/app';import'firebase/firestore';import Command from'../Command/Command';import MenuIcon from'@material-ui/icons/Menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(!firebase.apps.length){firebase.initializeApp({apiKey:\"AIzaSyA47b6Rx0RioZApSMcyDooUmOpQFFs9WLE\",authDomain:\"test1-68872.firebaseapp.com\",projectId:\"test1-68872\",storageBucket:\"test1-68872.appspot.com\",messagingSenderId:\"504703093399\",appId:\"1:504703093399:web:50a89636d428ac8bd2f7d2\"});}else{firebase.app();// if already initialized, use that one\n}var db=firebase.firestore();var UserHome=function UserHome(){var _useContext=useContext(userContext),_useContext2=_slicedToArray(_useContext,2),user=_useContext2[0],setUser=_useContext2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),dbUserData=_useState2[0],setDbUserData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({showMenu:true,hideMenu:false,suspendMenu:false}),_useState6=_slicedToArray(_useState5,2),menu=_useState6[0],setMenu=_useState6[1];useEffect(function(){var getDataFirebase=[];var userDb=db.collection(\"user\").onSnapshot(function(querySnapshot){querySnapshot.forEach(function(doc){getDataFirebase.push(_objectSpread(_objectSpread({},doc.data()),{},{key:doc.id}));});setDbUserData(getDataFirebase);setLoading(false);});return userDb;},[]);useEffect(function(){if(window.outerWidth<=500){var newMenu=_objectSpread({},menu);newMenu.showMenu=false;newMenu.hideMenu=true;setMenu(newMenu);}},[]);var handleMenuClick=function handleMenuClick(e){var newMenu=_objectSpread({},menu);newMenu.showMenu=true;newMenu.hideMenu=false;newMenu.suspendMenu=true;setMenu(newMenu);};var handleSubMenuClose=function handleSubMenuClose(){var newMenu=_objectSpread({},menu);newMenu.showMenu=false;newMenu.hideMenu=true;newMenu.suspendMenu=false;setMenu(newMenu);};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3\",style:{padding:0},children:[menu.suspendMenu&&/*#__PURE__*/_jsx(MenuIcon,{onClick:handleSubMenuClose,className:\"\",style:{}}),menu.showMenu&&/*#__PURE__*/_jsx(Navbar,{}),menu.hideMenu&&/*#__PURE__*/_jsx(MenuIcon,{onClick:handleMenuClick,className:\"\",style:{}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9 backgroundSIDE text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\",style:{width:'20%'},className:\"mt-5\"}),user.userHome&&/*#__PURE__*/_jsx(Rechart,{}),user.user&&user.admin&&/*#__PURE__*/_jsx(User,{data:dbUserData}),user.devices&&/*#__PURE__*/_jsx(Devices,{}),user.locations&&/*#__PURE__*/_jsx(Location,{}),user.command&&/*#__PURE__*/_jsx(Command,{})]})]});};export default UserHome;","map":{"version":3,"sources":["F:/Rlab/client/src/Components/Home/UserHome/UserHome.js"],"names":["React","useContext","useEffect","useState","Navbar","User","logo","userContext","Rechart","Devices","Location","firebase","Command","MenuIcon","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","firestore","UserHome","user","setUser","dbUserData","setDbUserData","loading","setLoading","showMenu","hideMenu","suspendMenu","menu","setMenu","getDataFirebase","userDb","collection","onSnapshot","querySnapshot","forEach","doc","push","data","key","id","window","outerWidth","newMenu","handleMenuClick","e","handleSubMenuClose","padding","width","userHome","admin","devices","locations","command"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport Navbar from '../../Shared/Navbar';\r\nimport './UserHome.css'\r\nimport User from '../User/User'\r\nimport logo from '../../../Resorces/logo_RLAB.png';\r\nimport { userContext } from '../../../App';\r\nimport Rechart from './Rechart';\r\nimport Devices from '../Devices/Devices';\r\nimport Location from '../Locations/Locations';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport Command from '../Command/Command';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp({\r\n        apiKey: \"AIzaSyA47b6Rx0RioZApSMcyDooUmOpQFFs9WLE\",\r\n        authDomain: \"test1-68872.firebaseapp.com\",\r\n        projectId: \"test1-68872\",\r\n        storageBucket: \"test1-68872.appspot.com\",\r\n        messagingSenderId: \"504703093399\",\r\n        appId: \"1:504703093399:web:50a89636d428ac8bd2f7d2\"\r\n    });\r\n }else {\r\n    firebase.app(); // if already initialized, use that one\r\n }\r\n\r\nconst db = firebase.firestore();\r\n\r\nconst UserHome = () => {\r\n   \r\n    const [user, setUser] = useContext(userContext);\r\n    \r\n    const [dbUserData, setDbUserData] = useState();\r\n    const [loading, setLoading] = useState(true)\r\n    const [menu, setMenu] = useState({\r\n        showMenu:true,\r\n        hideMenu:false,\r\n        suspendMenu: false,\r\n    })\r\n    useEffect(() => {\r\n        const getDataFirebase = [];\r\n        const userDb = db.collection(\"user\").onSnapshot((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              getDataFirebase.push({...doc.data(), key:doc.id});\r\n            });\r\n            setDbUserData(getDataFirebase);\r\n            setLoading(false)\r\n        });\r\n        \r\n       return userDb;\r\n    }, []);\r\n   \r\n    useEffect(() => {\r\n        if(window.outerWidth <= 500){\r\n            const newMenu = {...menu};\r\n            newMenu.showMenu = false;\r\n            newMenu.hideMenu = true;\r\n            setMenu(newMenu);\r\n        }\r\n    }, []);\r\n    const handleMenuClick = (e) => {\r\n        const newMenu = {...menu};\r\n            newMenu.showMenu = true;\r\n            newMenu.hideMenu = false;\r\n            newMenu.suspendMenu = true;\r\n            setMenu(newMenu);\r\n    }\r\n    const handleSubMenuClose = () => {\r\n        const newMenu = {...menu};\r\n            newMenu.showMenu = false;\r\n            newMenu.hideMenu = true;\r\n            newMenu.suspendMenu = false;\r\n            setMenu(newMenu);\r\n    }\r\n    return (\r\n        <div className='row'>\r\n            \r\n            <div className=\"col-md-3\" style={{padding:0}}>\r\n            {menu.suspendMenu && <MenuIcon onClick = {handleSubMenuClose} className=\"\" style={{}}/>}\r\n                {menu.showMenu && <Navbar/>}\r\n                {menu.hideMenu && <MenuIcon onClick = {handleMenuClick} className=\"\" style={{}}/>}\r\n                \r\n            </div>\r\n            <div className=\"col-md-9 backgroundSIDE text-center\">\r\n            \r\n            <img src={logo} alt=\"\" style={{width:'20%'}} className='mt-5' />\r\n\r\n                {user.userHome && <Rechart/>}\r\n                {user.user&& user.admin && <User data={dbUserData}/> }\r\n                \r\n                {user.devices && <Devices/>}\r\n                {user.locations && <Location/>}\r\n                {user.command && <Command/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserHome;"]},"metadata":{},"sourceType":"module"}