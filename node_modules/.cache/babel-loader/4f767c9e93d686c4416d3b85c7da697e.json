{"ast":null,"code":"import _objectSpread from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/Rlab/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./DeviceMeter.css';import'../../../responsive.css';import{Line}from'react-chartjs-2';import{useState}from'react';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeveiceMeter=function DeveiceMeter(props){var _props$data=props.data,DeviceID=_props$data.DeviceID,voltage01=_props$data.voltage01,voltage02=_props$data.voltage02,voltage03=_props$data.voltage03,dateSocket=_props$data.dateSocket,voltage04=_props$data.voltage04,vBat=_props$data.vBat,txPower=_props$data.txPower,rssiGateway=_props$data.rssiGateway,nMedicion=_props$data.nMedicion,msActivo=_props$data.msActivo,longitude=_props$data.longitude,latitude=_props$data.latitude,current01=_props$data.current01,rassiGateWay=_props$data.rassiGateWay,resistance=_props$data.resistance,temperature=_props$data.temperature,nMessages=_props$data.nMessages;var _useParams=useParams(),id=_useParams.id;var _useState=useState({voltageName:'',voltage:''}),_useState2=_slicedToArray(_useState,2),voltageData=_useState2[0],setVoltageData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),fetchDevice=_useState4[0],setFetchDeviceData=_useState4[1];var handleVoltage01=function handleVoltage01(){var newVoltage=_objectSpread({},voltageData);newVoltage.voltage=voltage01;newVoltage.voltageName='voltage01';setVoltageData(newVoltage);};var handleVlotage02=function handleVlotage02(){var newVoltage=_objectSpread({},voltageData);newVoltage.voltage=voltage02;newVoltage.voltageName='voltage02';setVoltageData(newVoltage);};var handleVolage03=function handleVolage03(){var newVoltage=_objectSpread({},voltageData);newVoltage.voltage=voltage03;newVoltage.voltageName='voltage03';setVoltageData(newVoltage);};var handleVlotage04=function handleVlotage04(){var newVoltage=_objectSpread({},voltageData);newVoltage.voltage=voltage04;newVoltage.voltageName='voltage04';setVoltageData(newVoltage);};var unix_timestamp=dateSocket;var date=new Date(unix_timestamp);var fullDate=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();var hours=date.getHours();var minutes=\"0\"+date.getMinutes();var seconds=\"0\"+date.getSeconds();var formattedTime=hours+':'+minutes.substr(-2)+':'+seconds.substr(-2);var fullTIme=\"\".concat(fullDate,\"/\").concat(month,\"/\").concat(year);console.log({fullDate:fullDate});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"meter-text\",children:\"Meter\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"device-meter-container\",children:[voltage01>=0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row thead\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Date\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Vcc 1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Vcc 2\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Vcc 3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Vcc 4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 meter-col\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Current 1\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row tbody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 meter-data\",\"data-content\":\"Date\",children:/*#__PURE__*/_jsx(\"p\",{children:fullTIme})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-data\",\"data-content\":\"Vcc 1\",onClick:handleVoltage01,children:/*#__PURE__*/_jsxs(\"p\",{children:[voltage01,\"V\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-data\",\"data-content\":\"Vcc 2\",onClick:handleVlotage02,children:/*#__PURE__*/_jsxs(\"p\",{children:[voltage02,\"V\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-data\",\"data-content\":\"Vcc 3\",onClick:handleVolage03,children:/*#__PURE__*/_jsxs(\"p\",{children:[voltage03,\"V\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 meter-data\",\"data-content\":\"Vcc 3\",onClick:handleVlotage04,children:/*#__PURE__*/_jsxs(\"p\",{children:[voltage04,\"V\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 meter-data\",\"data-content\":\"Current 1\",children:/*#__PURE__*/_jsxs(\"p\",{children:[current01,\"A\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row my-2 status-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-md-2 text-start p-0 status-data-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-title\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Ok\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-6 col-md-8 p-0 status-mid-data\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-title\",children:\"Last connection:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-data-date\",children:formattedTime}),/*#__PURE__*/_jsx(\"span\",{children:fullTIme})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-md-2 text-end p-0 status-data-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-title\",children:\"Vbat:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[vBat,\"V\"]})]})]})}),/*#__PURE__*/_jsx(Line,{height:100,width:400,data:{labels:[voltageData.voltageName,'voltage01','voltage02','voltage03','voltage04'],datasets:[{label:'Voltage Data',data:[voltageData.voltage,voltage01,voltage02,voltage03,voltage04],backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)'],borderWidth:1}]}}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-btn\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"d-flex justify-content-end chart-lists\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"bg-primary chart-list\",children:\"1W\"}),/*#__PURE__*/_jsx(\"li\",{className:\"bg-primary chart-list\",children:\"2D\"}),/*#__PURE__*/_jsx(\"li\",{className:\"bg-primary chart-list\",children:\"3H\"}),/*#__PURE__*/_jsx(\"li\",{className:\"bg-primary chart-list\",children:\"57M\"}),/*#__PURE__*/_jsx(\"li\",{className:\"bg-primary chart-list\",children:\"60S\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"row title-control\",children:\"Control\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control-input-text\",children:\"Period :\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-5 col-lg-5 control-input-box\",children:/*#__PURE__*/_jsx(\"input\",{className:\"control-input-number\",type:\"number\",value:latitude})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-4 col-lg-4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control-input-text\",children:\"Freq :\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-5 col-lg-5 control-input-box\",children:/*#__PURE__*/_jsx(\"input\",{className:\"control-input-number\",type:\"number\",value:longitude})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-4 col-lg-4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-button d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary button1\",children:/*#__PURE__*/_jsx(\"span\",{children:\"INT CYCLE\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary button2\",children:/*#__PURE__*/_jsx(\"span\",{children:\"ON / OFF\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"row device-meter-list-container\",children:[txPower>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"txPower :\"}),\" \",txPower]}),rssiGateway>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"rssiGateway :\"}),\" \",rssiGateway]}),nMedicion>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"nMedicion :\"}),\" \",nMedicion]}),msActivo>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\"text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"msActivo :\"}),\" \",msActivo]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"row d-flex justify-content-lg-around text-dark device-meter-list-container\",children:[rassiGateWay>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"rassiGateWay :\"}),\" \",rassiGateWay]}),resistance>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"resistance :\"}),\" \",resistance]}),temperature>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"temperature :\"}),\" \",temperature]}),nMessages>=0&&/*#__PURE__*/_jsxs(\"li\",{className:\" text-start text-dark device-list\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"device-meter-list\",htmlFor:\"\",children:\"nMessages :\"}),\" \",nMessages]})]})]})})})]})]});};export default DeveiceMeter;","map":{"version":3,"sources":["F:/Rlab/client/src/Components/Home/Locations/DeveiceMeter.js"],"names":["React","Line","useState","useParams","DeveiceMeter","props","data","DeviceID","voltage01","voltage02","voltage03","dateSocket","voltage04","vBat","txPower","rssiGateway","nMedicion","msActivo","longitude","latitude","current01","rassiGateWay","resistance","temperature","nMessages","id","voltageName","voltage","voltageData","setVoltageData","fetchDevice","setFetchDeviceData","handleVoltage01","newVoltage","handleVlotage02","handleVolage03","handleVlotage04","unix_timestamp","date","Date","fullDate","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedTime","substr","fullTIme","console","log","labels","datasets","label","backgroundColor","borderColor","borderWidth"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './DeviceMeter.css';\r\nimport '../../../responsive.css';\r\nimport { Line } from 'react-chartjs-2'\r\n\r\nimport { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nconst DeveiceMeter = (props) => {\r\n    const { DeviceID, voltage01, voltage02, voltage03, dateSocket, voltage04, vBat, txPower, rssiGateway, nMedicion, msActivo, longitude, latitude, current01, rassiGateWay, resistance, temperature, nMessages } = props.data;\r\n    const { id } = useParams();\r\n    const [voltageData, setVoltageData] = useState({\r\n        voltageName: '',\r\n        voltage: ''\r\n    });\r\n\r\n    \r\n\r\n    const [fetchDevice, setFetchDeviceData] = useState({\r\n        \r\n    });\r\n   \r\n    \r\n  \r\n  \r\n\r\n    const handleVoltage01 = () => {\r\n        const newVoltage = { ...voltageData };\r\n        newVoltage.voltage = voltage01;\r\n        newVoltage.voltageName = 'voltage01'\r\n        setVoltageData(newVoltage);\r\n    };\r\n    const handleVlotage02 = () => {\r\n        const newVoltage = { ...voltageData };\r\n        newVoltage.voltage = voltage02;\r\n        newVoltage.voltageName = 'voltage02'\r\n        setVoltageData(newVoltage);\r\n    }\r\n    const handleVolage03 = () => {\r\n        const newVoltage = { ...voltageData };\r\n        newVoltage.voltage = voltage03;\r\n        newVoltage.voltageName = 'voltage03'\r\n        setVoltageData(newVoltage);\r\n    }\r\n    const handleVlotage04 = () => {\r\n        const newVoltage = { ...voltageData };\r\n        newVoltage.voltage = voltage04;\r\n        newVoltage.voltageName = 'voltage04'\r\n        setVoltageData(newVoltage);\r\n    }\r\n    let unix_timestamp = dateSocket;\r\n    var date = new Date(unix_timestamp);\r\n    let fullDate = date.getDate();\r\n    let month = date.getMonth() + 1;\r\n    let year = date.getFullYear();\r\n    var hours = date.getHours();\r\n    var minutes = \"0\" + date.getMinutes();\r\n    var seconds = \"0\" + date.getSeconds();\r\n    var formattedTime = hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\r\n    const fullTIme = `${fullDate}/${month}/${year}`\r\n    console.log({fullDate});\r\n    return (\r\n        <div className=\"container\">\r\n            <h1 className=\"meter-text\">Meter</h1>\r\n\r\n            <div className=\"device-meter-container\">\r\n                {voltage01 >= 0 && <div>\r\n                    <div className=\"row thead\">\r\n                        <div className=\"col-md-4 meter-col\">\r\n                            <p>Date</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-col\">\r\n                            <p>Vcc 1</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-col\">\r\n                            <p>Vcc 2</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-col\">\r\n                            <p>Vcc 3</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-col\">\r\n                            <p>Vcc 4</p>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-3 meter-col\">\r\n                            <p>Current 1</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row tbody\">\r\n                        <div className=\"col-md-4 meter-data\" data-content=\"Date\">\r\n                            {<p>{fullTIme}</p> }\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-data\" data-content=\"Vcc 1\" onClick={handleVoltage01}>\r\n                            <p>{voltage01}V</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-data\" data-content=\"Vcc 2\" onClick={handleVlotage02}>\r\n                            <p>{voltage02}V</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-data\" data-content=\"Vcc 3\" onClick={handleVolage03}>\r\n                            <p>{voltage03}V</p>\r\n                        </div>\r\n                        <div className=\"col-md-1 meter-data\" data-content=\"Vcc 3\" onClick={handleVlotage04}>\r\n                            <p>{voltage04}V</p>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-3 meter-data\" data-content=\"Current 1\">\r\n                            <p>{current01}A</p>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n                <div>\r\n                    <div className=\"row my-2 status-container\">\r\n                        <div className=\"col-xl-3 col-md-2 text-start p-0 status-data-container\">\r\n                            <span className=\"status-title\">Status:</span>\r\n                            <span>Ok</span>\r\n                        </div>\r\n                        <div className=\"col-xl-6 col-md-8 p-0 status-mid-data\">\r\n                            <span className=\"status-title\">Last connection:</span>\r\n                            <span className=\"status-data-date\">{formattedTime}</span>\r\n                            <span>{fullTIme}</span>\r\n                        </div>\r\n                        <div className=\"col-xl-3 col-md-2 text-end p-0 status-data-container\">\r\n                            <span className=\"status-title\">Vbat:</span>\r\n                            <span>{vBat}V</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* {voltage01 >= 0 && <div className=\"chart-container\">\r\n                    <LineChart width={800} height={150} className=\"charts\" data={data}>\r\n                        <XAxis dataKey=\"name\"/>\r\n                        <YAxis/>\r\n                        <CartesianGrid stroke=\"#eee\" strokeDasharray=\"5 5\"/>\r\n                        <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" />\r\n                        <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#82ca9d\" />\r\n                    </LineChart> \r\n            </div>} */}\r\n                <Line height={100} width={400} data={{\r\n                    labels: [voltageData.voltageName, 'voltage01', 'voltage02', 'voltage03', 'voltage04'],\r\n                    datasets: [{\r\n                        label: 'Voltage Data',\r\n                        data: [voltageData.voltage, voltage01, voltage02, voltage03, voltage04],\r\n                        backgroundColor: [\r\n                            'rgba(255, 99, 132, 0.2)',\r\n                            'rgba(54, 162, 235, 0.2)',\r\n                            'rgba(255, 206, 86, 0.2)',\r\n                            'rgba(75, 192, 192, 0.2)',\r\n                            'rgba(153, 102, 255, 0.2)',\r\n                            'rgba(255, 159, 64, 0.2)'\r\n                        ],\r\n                        borderColor: [\r\n                            'rgba(255, 99, 132, 1)',\r\n                            'rgba(54, 162, 235, 1)',\r\n                            'rgba(255, 206, 86, 1)',\r\n                            'rgba(75, 192, 192, 1)',\r\n                            'rgba(153, 102, 255, 1)',\r\n                            'rgba(255, 159, 64, 1)'\r\n                        ],\r\n                        borderWidth: 1\r\n                    }]\r\n                }} />\r\n                <div className=\"chart-btn\">\r\n                    <ul className=\"d-flex justify-content-end chart-lists\">\r\n                        \r\n                        <li className=\"bg-primary chart-list\">1W</li>\r\n                        <li className=\"bg-primary chart-list\">2D</li>\r\n                        <li className=\"bg-primary chart-list\">3H</li>\r\n                        <li className=\"bg-primary chart-list\">57M</li>\r\n                        <li className=\"bg-primary chart-list\">60S</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"\">\r\n                    <div>\r\n                        <div>\r\n                            <p className=\"row title-control\">Control</p>\r\n                            \r\n                            <div className=\"row\">\r\n                                <div className=\"col-xl-3 col-lg-3\">\r\n                                    <p className=\"control-input-text\">Period :</p>\r\n                                </div>\r\n                                <div className=\"col-xl-5 col-lg-5 control-input-box\"><input className=\"control-input-number\" type=\"number\" value={latitude} /></div>\r\n                                <div className=\"col-xl-4 col-lg-4\"></div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-xl-3 col-lg-3\">\r\n                                    <p className=\"control-input-text\">Freq :</p>\r\n                                </div>\r\n                                <div className=\"col-xl-5 col-lg-5 control-input-box\"><input className=\"control-input-number\" type=\"number\" value={longitude} /></div>\r\n                                <div className=\"col-xl-4 col-lg-4\"></div>\r\n                            </div>\r\n                            <div className=\"meter-button d-flex justify-content-end\">\r\n                                <div className=\"btn btn-primary button1\"><span>INT CYCLE</span></div>\r\n                                <div className=\"btn btn-primary button2\"><span>ON / OFF</span></div>\r\n                            </div>\r\n\r\n                                \r\n                                <ul className=\"row device-meter-list-container\">\r\n                                    {txPower >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">txPower :</h5> {txPower}</li>}\r\n                                    {rssiGateway >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">rssiGateway :</h5> {rssiGateway}</li>}\r\n                                    {nMedicion >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">nMedicion :</h5> {nMedicion}</li>}\r\n                                    {msActivo >= 0 && <li className=\"text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">msActivo :</h5> {msActivo}</li>}\r\n                                </ul>\r\n                                <ul className=\"row d-flex justify-content-lg-around text-dark device-meter-list-container\">\r\n                                    {rassiGateWay >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">rassiGateWay :</h5> {rassiGateWay}</li>}\r\n                                    {resistance >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">resistance :</h5> {resistance}</li>}\r\n                                    {temperature >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">temperature :</h5> {temperature}</li>}\r\n                                    {nMessages >= 0 && <li className=\" text-start text-dark device-list\"><h5 className=\"device-meter-list\" htmlFor=\"\">nMessages :</h5> {nMessages}</li>}\r\n                                </ul>\r\n                            </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeveiceMeter;"]},"metadata":{},"sourceType":"module"}