{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useContext, useCallback, useMemo } from 'react';\nimport Area from '@visx/shape/lib/shapes/Area';\nimport LinePath from '@visx/shape/lib/shapes/LinePath';\nimport DataContext from '../../../context/DataContext';\nimport withRegisteredData from '../../../enhancers/withRegisteredData';\nimport getScaledValueFactory from '../../../utils/getScaledValueFactory';\nimport getScaleBaseline from '../../../utils/getScaleBaseline';\nimport isValidNumber from '../../../typeguards/isValidNumber';\nimport { AREASERIES_EVENT_SOURCE, XYCHART_EVENT_SOURCE } from '../../../constants';\nimport { BaseGlyphSeries } from './BaseGlyphSeries';\nimport defaultRenderGlyph from './defaultRenderGlyph';\nimport useSeriesEvents from '../../../hooks/useSeriesEvents';\n\nfunction BaseAreaSeries(_ref) {\n  var _ref2, _colorScale, _theme$colors;\n\n  var _ref$PathComponent = _ref.PathComponent,\n      PathComponent = _ref$PathComponent === void 0 ? 'path' : _ref$PathComponent,\n      curve = _ref.curve,\n      data = _ref.data,\n      dataKey = _ref.dataKey,\n      lineProps = _ref.lineProps,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      onPointerMove = _ref.onPointerMove,\n      onPointerOut = _ref.onPointerOut,\n      onPointerUp = _ref.onPointerUp,\n      _ref$enableEvents = _ref.enableEvents,\n      enableEvents = _ref$enableEvents === void 0 ? true : _ref$enableEvents,\n      _ref$renderLine = _ref.renderLine,\n      renderLine = _ref$renderLine === void 0 ? true : _ref$renderLine,\n      xAccessor = _ref.xAccessor,\n      x0Accessor = _ref.x0Accessor,\n      xScale = _ref.xScale,\n      yAccessor = _ref.yAccessor,\n      y0Accessor = _ref.y0Accessor,\n      yScale = _ref.yScale,\n      areaProps = _objectWithoutPropertiesLoose(_ref, [\"PathComponent\", \"curve\", \"data\", \"dataKey\", \"lineProps\", \"onBlur\", \"onFocus\", \"onPointerMove\", \"onPointerOut\", \"onPointerUp\", \"enableEvents\", \"renderLine\", \"xAccessor\", \"x0Accessor\", \"xScale\", \"yAccessor\", \"y0Accessor\", \"yScale\"]);\n\n  var _useContext = useContext(DataContext),\n      colorScale = _useContext.colorScale,\n      theme = _useContext.theme,\n      horizontal = _useContext.horizontal;\n\n  var getScaledX0 = useMemo(function () {\n    return x0Accessor ? getScaledValueFactory(xScale, x0Accessor) : undefined;\n  }, [xScale, x0Accessor]);\n  var getScaledX = useCallback(getScaledValueFactory(xScale, xAccessor), [xScale, xAccessor]);\n  var getScaledY0 = useMemo(function () {\n    return y0Accessor ? getScaledValueFactory(yScale, y0Accessor) : undefined;\n  }, [yScale, y0Accessor]);\n  var getScaledY = useCallback(getScaledValueFactory(yScale, yAccessor), [yScale, yAccessor]);\n  var isDefined = useCallback(function (d) {\n    return isValidNumber(xScale(xAccessor(d))) && isValidNumber(yScale(yAccessor(d)));\n  }, [xScale, xAccessor, yScale, yAccessor]);\n  var color = (_ref2 = (_colorScale = colorScale == null ? void 0 : colorScale(dataKey)) != null ? _colorScale : theme == null ? void 0 : (_theme$colors = theme.colors) == null ? void 0 : _theme$colors[0]) != null ? _ref2 : '#222';\n  var ownEventSourceKey = AREASERIES_EVENT_SOURCE + \"-\" + dataKey;\n  var eventEmitters = useSeriesEvents({\n    dataKey: dataKey,\n    enableEvents: enableEvents,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onPointerMove: onPointerMove,\n    onPointerOut: onPointerOut,\n    onPointerUp: onPointerUp,\n    source: ownEventSourceKey,\n    allowedSources: [XYCHART_EVENT_SOURCE, ownEventSourceKey]\n  }); // accessor functions for the area generator\n\n  var accessors = useMemo(function () {\n    var numericScaleBaseline = getScaleBaseline(horizontal ? xScale : yScale);\n    return horizontal ? {\n      x0: getScaledX0 != null ? getScaledX0 : numericScaleBaseline,\n      x1: getScaledX,\n      y: getScaledY\n    } : {\n      x: getScaledX,\n      y0: getScaledY0 != null ? getScaledY0 : numericScaleBaseline,\n      y1: getScaledY\n    };\n  }, [xScale, yScale, horizontal, getScaledX, getScaledY, getScaledX0, getScaledY0]); // render invisible glyphs for focusing if onFocus/onBlur are defined\n\n  var captureFocusEvents = Boolean(onFocus || onBlur);\n  var renderGlyphs = useCallback(function (_ref3) {\n    var glyphs = _ref3.glyphs;\n    return captureFocusEvents ? glyphs.map(function (glyph) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: glyph.key\n      }, defaultRenderGlyph(_extends({}, glyph, {\n        color: 'transparent',\n        onFocus: eventEmitters.onFocus,\n        onBlur: eventEmitters.onBlur\n      })));\n    }) : null;\n  }, [captureFocusEvents, eventEmitters.onFocus, eventEmitters.onBlur]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Area, _extends({}, accessors, areaProps, {\n    curve: curve,\n    defined: isDefined\n  }), function (_ref4) {\n    var path = _ref4.path;\n    return /*#__PURE__*/React.createElement(PathComponent, _extends({\n      className: \"visx-area\",\n      stroke: \"transparent\",\n      fill: color,\n      strokeLinecap: \"round\" // without this a datum surrounded by nulls will not be visible\n\n    }, areaProps, {\n      d: path(data) || ''\n    }, eventEmitters));\n  }), renderLine && /*#__PURE__*/React.createElement(LinePath, _extends({\n    x: getScaledX,\n    y: getScaledY,\n    defined: isDefined,\n    curve: curve\n  }, lineProps), function (_ref5) {\n    var path = _ref5.path;\n    return /*#__PURE__*/React.createElement(PathComponent, _extends({\n      className: \"visx-line\",\n      fill: \"transparent\",\n      stroke: color,\n      strokeWidth: 2,\n      pointerEvents: \"none\",\n      strokeLinecap: \"round\" // without this a datum surrounded by nulls will not be visible\n\n    }, lineProps, {\n      d: path(data) || ''\n    }));\n  }), captureFocusEvents && /*#__PURE__*/React.createElement(BaseGlyphSeries, {\n    dataKey: dataKey,\n    data: data,\n    xAccessor: xAccessor,\n    yAccessor: yAccessor,\n    xScale: xScale,\n    yScale: yScale,\n    renderGlyphs: renderGlyphs\n  }));\n}\n\nBaseAreaSeries.propTypes = {\n  renderLine: _pt.bool\n};\nexport default withRegisteredData(BaseAreaSeries);","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/xychart/esm/components/series/private/BaseAreaSeries.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useContext","useCallback","useMemo","Area","LinePath","DataContext","withRegisteredData","getScaledValueFactory","getScaleBaseline","isValidNumber","AREASERIES_EVENT_SOURCE","XYCHART_EVENT_SOURCE","BaseGlyphSeries","defaultRenderGlyph","useSeriesEvents","BaseAreaSeries","_ref","_ref2","_colorScale","_theme$colors","_ref$PathComponent","PathComponent","curve","data","dataKey","lineProps","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","_ref$enableEvents","enableEvents","_ref$renderLine","renderLine","xAccessor","x0Accessor","xScale","yAccessor","y0Accessor","yScale","areaProps","_useContext","colorScale","theme","horizontal","getScaledX0","undefined","getScaledX","getScaledY0","getScaledY","isDefined","d","color","colors","ownEventSourceKey","eventEmitters","allowedSources","accessors","numericScaleBaseline","x0","x1","y","x","y0","y1","captureFocusEvents","Boolean","renderGlyphs","_ref3","glyphs","map","glyph","createElement","Fragment","defined","_ref4","path","className","stroke","fill","strokeLinecap","_ref5","strokeWidth","pointerEvents","propTypes","bool"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useContext, useCallback, useMemo } from 'react';\nimport Area from '@visx/shape/lib/shapes/Area';\nimport LinePath from '@visx/shape/lib/shapes/LinePath';\nimport DataContext from '../../../context/DataContext';\nimport withRegisteredData from '../../../enhancers/withRegisteredData';\nimport getScaledValueFactory from '../../../utils/getScaledValueFactory';\nimport getScaleBaseline from '../../../utils/getScaleBaseline';\nimport isValidNumber from '../../../typeguards/isValidNumber';\nimport { AREASERIES_EVENT_SOURCE, XYCHART_EVENT_SOURCE } from '../../../constants';\nimport { BaseGlyphSeries } from './BaseGlyphSeries';\nimport defaultRenderGlyph from './defaultRenderGlyph';\nimport useSeriesEvents from '../../../hooks/useSeriesEvents';\n\nfunction BaseAreaSeries(_ref) {\n  var _ref2, _colorScale, _theme$colors;\n\n  var _ref$PathComponent = _ref.PathComponent,\n      PathComponent = _ref$PathComponent === void 0 ? 'path' : _ref$PathComponent,\n      curve = _ref.curve,\n      data = _ref.data,\n      dataKey = _ref.dataKey,\n      lineProps = _ref.lineProps,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      onPointerMove = _ref.onPointerMove,\n      onPointerOut = _ref.onPointerOut,\n      onPointerUp = _ref.onPointerUp,\n      _ref$enableEvents = _ref.enableEvents,\n      enableEvents = _ref$enableEvents === void 0 ? true : _ref$enableEvents,\n      _ref$renderLine = _ref.renderLine,\n      renderLine = _ref$renderLine === void 0 ? true : _ref$renderLine,\n      xAccessor = _ref.xAccessor,\n      x0Accessor = _ref.x0Accessor,\n      xScale = _ref.xScale,\n      yAccessor = _ref.yAccessor,\n      y0Accessor = _ref.y0Accessor,\n      yScale = _ref.yScale,\n      areaProps = _objectWithoutPropertiesLoose(_ref, [\"PathComponent\", \"curve\", \"data\", \"dataKey\", \"lineProps\", \"onBlur\", \"onFocus\", \"onPointerMove\", \"onPointerOut\", \"onPointerUp\", \"enableEvents\", \"renderLine\", \"xAccessor\", \"x0Accessor\", \"xScale\", \"yAccessor\", \"y0Accessor\", \"yScale\"]);\n\n  var _useContext = useContext(DataContext),\n      colorScale = _useContext.colorScale,\n      theme = _useContext.theme,\n      horizontal = _useContext.horizontal;\n\n  var getScaledX0 = useMemo(function () {\n    return x0Accessor ? getScaledValueFactory(xScale, x0Accessor) : undefined;\n  }, [xScale, x0Accessor]);\n  var getScaledX = useCallback(getScaledValueFactory(xScale, xAccessor), [xScale, xAccessor]);\n  var getScaledY0 = useMemo(function () {\n    return y0Accessor ? getScaledValueFactory(yScale, y0Accessor) : undefined;\n  }, [yScale, y0Accessor]);\n  var getScaledY = useCallback(getScaledValueFactory(yScale, yAccessor), [yScale, yAccessor]);\n  var isDefined = useCallback(function (d) {\n    return isValidNumber(xScale(xAccessor(d))) && isValidNumber(yScale(yAccessor(d)));\n  }, [xScale, xAccessor, yScale, yAccessor]);\n  var color = (_ref2 = (_colorScale = colorScale == null ? void 0 : colorScale(dataKey)) != null ? _colorScale : theme == null ? void 0 : (_theme$colors = theme.colors) == null ? void 0 : _theme$colors[0]) != null ? _ref2 : '#222';\n  var ownEventSourceKey = AREASERIES_EVENT_SOURCE + \"-\" + dataKey;\n  var eventEmitters = useSeriesEvents({\n    dataKey: dataKey,\n    enableEvents: enableEvents,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onPointerMove: onPointerMove,\n    onPointerOut: onPointerOut,\n    onPointerUp: onPointerUp,\n    source: ownEventSourceKey,\n    allowedSources: [XYCHART_EVENT_SOURCE, ownEventSourceKey]\n  }); // accessor functions for the area generator\n\n  var accessors = useMemo(function () {\n    var numericScaleBaseline = getScaleBaseline(horizontal ? xScale : yScale);\n    return horizontal ? {\n      x0: getScaledX0 != null ? getScaledX0 : numericScaleBaseline,\n      x1: getScaledX,\n      y: getScaledY\n    } : {\n      x: getScaledX,\n      y0: getScaledY0 != null ? getScaledY0 : numericScaleBaseline,\n      y1: getScaledY\n    };\n  }, [xScale, yScale, horizontal, getScaledX, getScaledY, getScaledX0, getScaledY0]); // render invisible glyphs for focusing if onFocus/onBlur are defined\n\n  var captureFocusEvents = Boolean(onFocus || onBlur);\n  var renderGlyphs = useCallback(function (_ref3) {\n    var glyphs = _ref3.glyphs;\n    return captureFocusEvents ? glyphs.map(function (glyph) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: glyph.key\n      }, defaultRenderGlyph(_extends({}, glyph, {\n        color: 'transparent',\n        onFocus: eventEmitters.onFocus,\n        onBlur: eventEmitters.onBlur\n      })));\n    }) : null;\n  }, [captureFocusEvents, eventEmitters.onFocus, eventEmitters.onBlur]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Area, _extends({}, accessors, areaProps, {\n    curve: curve,\n    defined: isDefined\n  }), function (_ref4) {\n    var path = _ref4.path;\n    return /*#__PURE__*/React.createElement(PathComponent, _extends({\n      className: \"visx-area\",\n      stroke: \"transparent\",\n      fill: color,\n      strokeLinecap: \"round\" // without this a datum surrounded by nulls will not be visible\n\n    }, areaProps, {\n      d: path(data) || ''\n    }, eventEmitters));\n  }), renderLine && /*#__PURE__*/React.createElement(LinePath, _extends({\n    x: getScaledX,\n    y: getScaledY,\n    defined: isDefined,\n    curve: curve\n  }, lineProps), function (_ref5) {\n    var path = _ref5.path;\n    return /*#__PURE__*/React.createElement(PathComponent, _extends({\n      className: \"visx-line\",\n      fill: \"transparent\",\n      stroke: color,\n      strokeWidth: 2,\n      pointerEvents: \"none\",\n      strokeLinecap: \"round\" // without this a datum surrounded by nulls will not be visible\n\n    }, lineProps, {\n      d: path(data) || ''\n    }));\n  }), captureFocusEvents && /*#__PURE__*/React.createElement(BaseGlyphSeries, {\n    dataKey: dataKey,\n    data: data,\n    xAccessor: xAccessor,\n    yAccessor: yAccessor,\n    xScale: xScale,\n    yScale: yScale,\n    renderGlyphs: renderGlyphs\n  }));\n}\n\nBaseAreaSeries.propTypes = {\n  renderLine: _pt.bool\n};\nexport default withRegisteredData(BaseAreaSeries);"]},"metadata":{},"sourceType":"module"}