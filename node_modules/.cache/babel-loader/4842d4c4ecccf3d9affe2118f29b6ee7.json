{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useSpring, animated, interpolate } from 'react-spring';\nimport { Annotation as VisxAnnotation, EditableAnnotation as VisxEditableAnnotation } from '@visx/annotation';\nimport BaseAnnotation from './private/BaseAnnotation';\nexport default function AnimatedAnnotation(_ref) {\n  var editable = _ref.editable,\n      props = _objectWithoutPropertiesLoose(_ref, [\"editable\"]);\n\n  var AnnotationComponent = useCallback(function (annotationProps) {\n    return /*#__PURE__*/React.createElement(BaseAnimatedAnnotation, _extends({\n      AnnotationComponent: editable ? VisxEditableAnnotation : VisxAnnotation\n    }, annotationProps));\n  }, [editable]);\n  return /*#__PURE__*/React.createElement(BaseAnnotation, _extends({\n    AnnotationComponent: AnnotationComponent\n  }, props));\n}\nAnimatedAnnotation.propTypes = {\n  editable: _pt.bool\n};\n\nfunction BaseAnimatedAnnotation(_ref2) {\n  var _ref2$x = _ref2.x,\n      x = _ref2$x === void 0 ? 0 : _ref2$x,\n      _ref2$y = _ref2.y,\n      y = _ref2$y === void 0 ? 0 : _ref2$y,\n      AnnotationComponent = _ref2.AnnotationComponent,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"x\", \"y\", \"AnnotationComponent\"]);\n\n  var lastXY = useRef({\n    x: x,\n    y: y\n  }); // in order to keep x/y/dx/dy accurate in AnnotationComponent, animate the delta\n  // between positions, to an x + y transform of zero from the previous value\n\n  var animatedXY = useSpring({\n    from: {\n      x: lastXY.current.x - x,\n      y: lastXY.current.y - y\n    },\n    to: {\n      x: 0,\n      y: 0\n    },\n    reset: true\n  });\n  useEffect(function () {\n    lastXY.current = {\n      x: x,\n      y: y\n    };\n  }, [x, y]);\n  return /*#__PURE__*/React.createElement(animated.g, {\n    // for perf animate a group element not the Annotation itself\n    transform: interpolate( // @ts-expect-error from/to mess up the useSpring types\n    [animatedXY.x, animatedXY.y], function (xVal, yVal) {\n      return \"translate(\" + xVal + \", \" + yVal + \")\";\n    })\n  }, /*#__PURE__*/React.createElement(AnnotationComponent, _extends({\n    x: x,\n    y: y\n  }, props)));\n}","map":{"version":3,"sources":["C:/remotePackRlab-acab49ee44aa8f06acbfc147116dbc3387885161/node_modules/@visx/xychart/esm/components/annotation/AnimatedAnnotation.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useCallback","useEffect","useRef","useSpring","animated","interpolate","Annotation","VisxAnnotation","EditableAnnotation","VisxEditableAnnotation","BaseAnnotation","AnimatedAnnotation","_ref","editable","props","AnnotationComponent","annotationProps","createElement","BaseAnimatedAnnotation","propTypes","bool","_ref2","_ref2$x","x","_ref2$y","y","lastXY","animatedXY","from","current","to","reset","g","transform","xVal","yVal"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useSpring, animated, interpolate } from 'react-spring';\nimport { Annotation as VisxAnnotation, EditableAnnotation as VisxEditableAnnotation } from '@visx/annotation';\nimport BaseAnnotation from './private/BaseAnnotation';\nexport default function AnimatedAnnotation(_ref) {\n  var editable = _ref.editable,\n      props = _objectWithoutPropertiesLoose(_ref, [\"editable\"]);\n\n  var AnnotationComponent = useCallback(function (annotationProps) {\n    return /*#__PURE__*/React.createElement(BaseAnimatedAnnotation, _extends({\n      AnnotationComponent: editable ? VisxEditableAnnotation : VisxAnnotation\n    }, annotationProps));\n  }, [editable]);\n  return /*#__PURE__*/React.createElement(BaseAnnotation, _extends({\n    AnnotationComponent: AnnotationComponent\n  }, props));\n}\nAnimatedAnnotation.propTypes = {\n  editable: _pt.bool\n};\n\nfunction BaseAnimatedAnnotation(_ref2) {\n  var _ref2$x = _ref2.x,\n      x = _ref2$x === void 0 ? 0 : _ref2$x,\n      _ref2$y = _ref2.y,\n      y = _ref2$y === void 0 ? 0 : _ref2$y,\n      AnnotationComponent = _ref2.AnnotationComponent,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"x\", \"y\", \"AnnotationComponent\"]);\n\n  var lastXY = useRef({\n    x: x,\n    y: y\n  }); // in order to keep x/y/dx/dy accurate in AnnotationComponent, animate the delta\n  // between positions, to an x + y transform of zero from the previous value\n\n  var animatedXY = useSpring({\n    from: {\n      x: lastXY.current.x - x,\n      y: lastXY.current.y - y\n    },\n    to: {\n      x: 0,\n      y: 0\n    },\n    reset: true\n  });\n  useEffect(function () {\n    lastXY.current = {\n      x: x,\n      y: y\n    };\n  }, [x, y]);\n  return /*#__PURE__*/React.createElement(animated.g, {\n    // for perf animate a group element not the Annotation itself\n    transform: interpolate( // @ts-expect-error from/to mess up the useSpring types\n    [animatedXY.x, animatedXY.y], function (xVal, yVal) {\n      return \"translate(\" + xVal + \", \" + yVal + \")\";\n    })\n  }, /*#__PURE__*/React.createElement(AnnotationComponent, _extends({\n    x: x,\n    y: y\n  }, props)));\n}"]},"metadata":{},"sourceType":"module"}